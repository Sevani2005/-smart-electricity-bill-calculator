<!DOCTYPE html>
<html>
<head>
<head>
  <title>‚ö° Smart Electricity Bill Calculator</title>
<style>
  *{margin:0;padding:0;box-sizing:border-box;}
  body{
    font-family:'Segoe UI',Arial,sans-serif;
    /* darker violet background */
    background:linear-gradient(135deg,#3B2866 0%,#2A1C4C 40%,#1A122F 100%);
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:20px;
  }
  .container{
    max-width:450px;width:100%;
    /* light pastel violet card */
    background:rgba(234,220,251,0.98);
    backdrop-filter:blur(18px);
    border-radius:26px;
    padding:36px;
    box-shadow:0 18px 35px rgba(0,0,0,0.45);
    border:1px solid rgba(255,255,255,0.7);
    position:relative;
    overflow:hidden;
  }
  .container::before{
    content:'';
    position:absolute;
    width:130%;
    height:2px;
    top:16px;
    left:-20%;
    background:linear-gradient(90deg,transparent,#C77DFF,#F9C74F,transparent);
    opacity:0.7;
    box-shadow:0 0 12px rgba(199,125,255,0.7);
  }
  .container::after{
    content:'';
    position:absolute;
    width:90px;
    height:90px;
    left:-30px;
    bottom:-30px;
    border-radius:50%;
    border:2px dashed rgba(181,152,255,0.8);
    box-shadow:0 0 18px rgba(181,152,255,0.7);
    opacity:0.7;
  }

  h1{
  text-align:center;
  font-size:22px;        /* was 24px */
  line-height:1.3;       /* tighter line height */
  margin-bottom:22px;
  color:#3B2866;
}


  .input-group{position:relative;margin-bottom:22px;}
    input{
    width:100%;
    padding:18px 22px;
    font-size:22px;
    border:2px solid #C3B4EB;
    border-radius:18px;
    outline:none;
    transition:all 0.25s;
    background:#F7F2FF;
    color:#3B2866;
    box-shadow:0 6px 14px rgba(0,0,0,0.12);  /* new softer shadow */
  }

  input::placeholder{color:#9A93B8;}
  input:focus{
    border-color:#C77DFF;
    box-shadow:0 0 12px rgba(199,125,255,0.8);
  }

   .btn{
    width:100%;
    padding:18px;
    font-size:18px;
    font-weight:bold;
    /* light pastel button */
    background:linear-gradient(45deg,#FFFFFF,#F7ECFF);
    color:#3B2866;
    border:none;
    border-radius:24px;
    cursor:pointer;
    transition:all 0.2s;
    box-shadow:0 8px 18px rgba(0,0,0,0.18);
  }
  .btn:hover{
    transform:translateY(-2px);
    box-shadow:0 12px 24px rgba(0,0,0,0.25);
  }


  .result{
    display:none;
    padding:24px;
    margin-top:24px;
    background:#F2E9FF;
    border-radius:20px;
    color:#3B2866;
    text-align:center;
    animation:slideIn 0.4s;
    border:1px solid rgba(199,125,255,0.7);
    box-shadow:0 0 12px rgba(199,125,255,0.4);
  }
  .total{
    font-size:28px;        /* was 32px */
    font-weight:bold;
    margin:10px 0;
    color:#D18A00;
  }

   .tip{
    margin-top:18px;       /* was ~14px */
    font-size:17px;
  }

  .savings{
    font-size:20px;
    background:#FFE69A;
    color:#3B2F00;
    padding:8px 18px;
    border-radius:18px;
    display:inline-block;
    margin-top:10px;
    box-shadow:0 6px 16px rgba(0,0,0,0.2);
  }

  @keyframes slideIn{
    from{opacity:0;transform:translateY(20px);}
    to{opacity:1;transform:translateY(0);}
  }
  @media(max-width:480px){
    .container{padding:30px 20px;}
    h1{font-size:22px;}
  }
</style>
</head>
<body>
  <div class="container">
   <h1>‚ö° Smart Electricity Bill Calculator</h1>
 <div class="input-group">
      <input id="units" type="number" placeholder="Enter units consumed" value="250">
    </div>
    <button class="btn" onclick="calculateBill()">Calculate Bill ‚û°Ô∏è</button>
    <div id="result" class="result">
      <div class="total" id="total"></div>
      <div id="tax"></div>
      <div id="tip" class="tip"></div>
      <div id="savings" class="savings"></div>
    </div>
  </div>

  <script>
    async function calculateBill() {
      const units = parseInt(document.getElementById('units').value);
      if(!units || units<0) return alert('Enter valid units!');
      
      const res = await fetch('http://localhost:3000/calculate-bill', {
        method: 'POST',
        headers: {'Content-Type':'application/json'},
        body: JSON.stringify({units})
      });
      const data = await res.json();

      document.getElementById('result').style.display = 'block';
      document.getElementById('total').textContent = `‚Çπ${data.total}`;
      document.getElementById('tax').textContent = `Tax: ‚Çπ${data.tax}`;
      document.getElementById('tip').textContent = data.tip;
      document.getElementById('savings').textContent = data.savings > 0 ? `üí∞ Monthly Savings: ‚Çπ${data.savings}` : '';
    }
  </script>
</body>
</html>
